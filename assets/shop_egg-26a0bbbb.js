import{d as T,o as a,c,a as e,t as d,f as b,E as ie,G as ne,H as ce,I as le,J as _e,K as de,L as ge,M as re,p as q,e as J,_ as S,B as R,C as D,u as K,g as x,n as Ue,k as X,F as Q,b as i,j as Fe,A as oe,r as _,w as Le,x as He,h as f,P as Qe,Q as Re,R as Oe,S as H,T as We}from"./index-0df02ba8.js";import{_ as je,a as Ge,L as O,D as ue,w as Me,t as Ve,m as Pe,c as V,h as P,A as Y,b as Ye}from"./deployments.mainnet-7d7aee41.js";import"./icon_close-84a1ab56.js";const Xe="https://cdn.jsdelivr.net/gh/linefi/website/assets/countdown-7719589a.png",qe="https://cdn.jsdelivr.net/gh/linefi/website/assets/egg-7f030c83.png",ve="https://cdn.jsdelivr.net/gh/linefi/website/assets/five_straight_strokes-97193ec6.png",Je="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACgSURBVHgB7dQxFcJAEITh2cv1IIGSAhHQxQUWkIIEcHElIijSgQX6kE0iIdvk3sv/SZg3MxIAAAAAAAAAAAAAbIApqD3lcxrsqpW5/OdDfy+dvgoIBdAedbAmf1QR/+tSuv6lhZICLOWbapNibQwF4O57VcamKSggFIAae6gy8w8oIH6C8w9MU3DZTmtL/izv5fsHAAAAAAAAAAAAgM0YAUIpIw7l/Wp3AAAAAElFTkSuQmCC",Ke="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAG2SURBVHgB7dqxSsNAGAfw/yUVurXiC3Rw6ODQ0c1069g3KL6Bb6Kbq75Bx45Z3So4dBDMAwhWEERs8nkpFmobNFwgX+T+v/F6EPpPcnff1wJEREREREQeMlAyOmlFQWYmAnmVbHU1WyCBApUARn30TNh62h6TFMPZYhWjZgEUmKB1sTcYmAkUqAQgIl00hEoATcIA4DkGAM8xAHiOAcBzOkdhg87+qBxCQe0B5IWQLcEGu+M2lLNogNqPyCFqFPXQPWiH1/brnhZ83D5Ig/7xUXb3+IwlauJcDm/q+bLzbd3fRSARxPxxlyWxc+YGplQIVfsJTgEU1fPaXPsJTmtAYT2vzbGf4BRAk+r5DWNfBThw2wVCc4OGydcBOHBfBPN1wL4KAtMpd6H8qZGB3e96v8+UpV0EYym5CK4Fcjt7cOsn1toU/Q7t0l51XDjByPT9LT2Pk3+wDboa28POx+d6B/m5jogkkqXDutvjtZ8Ep3N7d0Xi3XH7yN9r/Dag1BVGwYptXqCA1SA8xwDgOQYAzzEAeI4BoCFc6/mqdAIo6Ce41vNV6f1JarufUKGeJyIiIiIiIgdfa52DeewoqDYAAAAASUVORK5CYII=",he="https://cdn.jsdelivr.net/gh/linefi/website/assets/ten_straight_strokes-c5c28cb5.png",me=o=>(q("data-v-914e90f2"),o=o(),J(),o),Ze={class:"animal-box"},ze={class:"animal-info"},es={class:"animal-type"},ss={class:"animal-pic"},ts=["src"],as={class:"animal-att"},os={class:"animal-level"},is=me(()=>e("img",{src:je,alt:""},null,-1)),ns={class:"animal-glamour"},cs=me(()=>e("img",{src:Ge,alt:""},null,-1)),ls=T({__name:"animal_card",props:{animalData:{default:{}}},setup(o){const g=o;function r(u){return new URL(Object.assign({"../assets/images/home/aki.gif":ie,"../assets/images/home/aoao.gif":ne,"../assets/images/home/bebe.gif":ce,"../assets/images/home/cici.gif":le,"../assets/images/home/dndn.gif":_e,"../assets/images/home/fofo.gif":de,"../assets/images/home/rara.gif":ge,"../assets/images/home/wiwi.gif":re})[`../assets/images/home/${u}.gif`],self.location).href}return(u,w)=>(a(),c("div",Ze,[e("div",ze,[e("p",es,d(g.animalData.role),1),e("p",null,"#"+d(u.$filter.tokenId(g.animalData.tokenid)),1)]),e("div",ss,[e("img",{src:r(g.animalData.role),alt:""},null,8,ts)]),e("div",as,[e("div",os,[is,b(" Lv."+d(g.animalData.level),1)]),e("div",ns,[cs,b(" "+d(g.animalData.energy),1)])])]))}});const _s=S(ls,[["__scopeId","data-v-914e90f2"]]),ds="https://cdn.jsdelivr.net/gh/linefi/website/assets/common_egg-6e0ecb8a.png",gs="https://cdn.jsdelivr.net/gh/linefi/website/assets/epic_egg-6aed0a5c.png",rs={class:"egg-card"},us={class:"egg-name"},vs={class:"egg-pic"},hs={key:0,src:ds,alt:""},ms={key:1,src:gs,alt:""},ps={class:"egg-id"},As={class:"card-btn"},fs=T({__name:"egg_card",props:{tokenId:{default:0},eggType:{default:1}},emits:["openDialog"],setup(o,{emit:g}){const r=o,u={0:"Common",1:"Common",2:"Genesis",3:"Genesis",4:"Genesis"},w=()=>{g("openDialog")};return(h,A)=>(a(),c("div",rs,[e("div",us,d(u[r.eggType]),1),e("div",vs,[r.eggType<=1?(a(),c("img",hs)):(a(),c("img",ms)),e("div",ps,"#"+d(h.$filter.tokenId(r.tokenId)),1)]),e("div",As,[R(O,{onClick:w},{default:D(()=>[b(" Hatching ")]),_:1})])]))}});const bs=S(fs,[["__scopeId","data-v-10173207"]]),ws="https://cdn.jsdelivr.net/gh/linefi/website/assets/light_epic_egg_pic-dea6646e.png",Is="https://cdn.jsdelivr.net/gh/linefi/website/assets/mul_light_epic_egg_pic-abda8689.png",ys={class:"dialog-content"},ks={key:0,src:ws,alt:""},xs={key:1,src:Is,alt:""},Ds={class:"btn-box"},Cs=T({__name:"egg_dialog",props:{loading:{type:Boolean,default:!1},eggNumber:{default:1}},emits:["closeDialog","hatching"],setup(o,{emit:g}){const r=o;K();const u=()=>{g("closeDialog")};return(w,h)=>(a(),x(ue,{onCloseDialog:u},{default:D(()=>[e("div",ys,[o.eggNumber==1?(a(),c("img",ks)):(a(),c("img",xs)),e("p",null,"Genesis Egg x"+d(o.eggNumber),1),e("div",Ds,[R(O,{onClick:h[0]||(h[0]=A=>g("hatching")),loading:r.loading},{default:D(()=>[b("Hatching")]),_:1},8,["loading"])])])]),_:1}))}});const $s=S(Cs,[["__scopeId","data-v-dc9c508b"]]),Bs="https://cdn.jsdelivr.net/gh/linefi/website/assets/hatching_animal_bg-7c1207f2.png",Ts=o=>(q("data-v-0891f186"),o=o(),J(),o),Ss={class:"dialog-content"},Es={class:"nft-pic"},Ns=Ts(()=>e("img",{src:Bs,alt:""},null,-1)),Us=["src"],Fs={class:"dialog-button"},Ls=T({__name:"hatch_success_dialog",props:{animalData:{default:null}},emits:["closeDialog"],setup(o,{emit:g}){const r=o,{t:u}=K(),w=()=>{g("closeDialog")};function h(A){return new URL(Object.assign({"../../../assets/images/home/aki.gif":ie,"../../../assets/images/home/aoao.gif":ne,"../../../assets/images/home/bebe.gif":ce,"../../../assets/images/home/cici.gif":le,"../../../assets/images/home/dndn.gif":_e,"../../../assets/images/home/fofo.gif":de,"../../../assets/images/home/rara.gif":ge,"../../../assets/images/home/wiwi.gif":re})[`../../../assets/images/home/${A}.gif`],self.location).href}return(A,l)=>(a(),x(ue,{onCloseDialog:w},{default:D(()=>[e("div",Ss,[e("div",Es,[Ns,e("div",{class:Ue(["animal",`animal-${r.animalData.length}`])},[(a(!0),c(Q,null,X(r.animalData,C=>(a(),c("img",{src:h(C.role),alt:""},null,8,Us))),256))],2)]),e("div",Fs,[R(O,{onClick:l[0]||(l[0]=C=>g("closeDialog"))},{default:D(()=>[b(d(i(u)("confirm")),1)]),_:1})])])]),_:1}))}});const Hs=S(Ls,[["__scopeId","data-v-0891f186"]]),p=o=>(q("data-v-4cfc9545"),o=o(),J(),o),Qs={class:"shop-egg-page"},Rs={class:"buy-egg-box"},Os={class:"countdown-box"},Ws={key:0,class:"countdown-img",src:Xe,alt:""},js={key:1},Gs=p(()=>e("div",{class:"egg-box"},[e("img",{class:"egg-img",src:qe,alt:""})],-1)),Ms={class:"draw-box"},Vs={key:0,class:"five-box"},Ps=p(()=>e("div",{class:"info-box"},[e("p",{class:"title"},"5 NFTs Package"),e("p",{class:"info"},"There must be a Wiwi")],-1)),Ys=p(()=>e("img",{src:ve,alt:""},null,-1)),Xs=[Ps,Ys],qs={class:"draw-box-center"},Js={class:"input-box"},Ks=p(()=>e("img",{src:Je,alt:""},null,-1)),Zs=[Ks],zs=p(()=>e("img",{src:Ke,alt:""},null,-1)),et=[zs],st={class:"button-box"},tt={key:1,class:"ten-box"},at=p(()=>e("img",{src:he,alt:""},null,-1)),ot=p(()=>e("div",{class:"info-box"},[e("p",{class:"title"},"10 NFTs Package"),e("p",{class:"info"},"One for each NFT")],-1)),it=[at,ot],nt={key:2,class:"phone-box"},ct=We('<div class="five-box" data-v-4cfc9545><div class="info-box" data-v-4cfc9545><p class="title" data-v-4cfc9545>5 NFTs Package</p><p class="info" data-v-4cfc9545>There must be a Wiwi</p></div><img src="'+ve+'" alt="" data-v-4cfc9545></div><div class="ten-box" data-v-4cfc9545><img src="'+he+'" alt="" data-v-4cfc9545><div class="info-box" data-v-4cfc9545><p class="title" data-v-4cfc9545>10 NFTs Package</p><p class="info" data-v-4cfc9545>One for each NFT</p></div></div>',2),lt=[ct],_t={class:"balance-text"},dt=p(()=>e("p",{class:"price-text"}," The price of Genesis Egg is 0.1 $ETH limited to 1000 ",-1)),gt={key:0,class:"price-text-og"},rt=p(()=>e("br",null,null,-1)),ut={class:"animal-content"},vt={class:"animal-list-box"},ht={class:"home-title"},mt={key:0,class:"animal-list"},pt={key:1,class:"empyt-box"},At=p(()=>e("img",{src:Ye,alt:""},null,-1)),ft=T({__name:"shop_egg",setup(o){const{locale:g,t:r}=K();var u=Me(),w=Fe();const h=oe(()=>w.clientWidth),A=u.env=="testnet"?Ve:Pe,l=oe(()=>u.web3);var C=null,W=null,v=_(1),j=_([]),G=_([]),pe=_(0),Z=_(0),E=_(!1);_(0);var N=_(0),U=_(0),z={1:"Whitelist",2:"OG"},$="";const B=_(!1),F=_(!1),M=_(!1),ee=_([]);Le(l.value,(s,t)=>{ae(),be()});var se=Math.floor(new Date/1e3);_(""),He(()=>{u.init(),Ae()});const te=_(""),Ae=()=>{var s=setInterval(()=>{var t=new Date,n=Math.floor(t/1e3);if(n<1681815e3){var m=1681815e3-n,I=Math.floor(m/(60*60)),y=Math.floor(m%(60*60)/60),k=Math.floor(m%60),L=I>9?I:"0"+I,Ee=y>9?y:"0"+y,Ne=k>9?k:"0"+k;te.value=L+":"+Ee+":"+Ne}else clearInterval(s)},1e3)},fe=s=>{$=s+"",B.value=!0},be=()=>{if(l.value.web3Instance){var s=l.value.web3Instance();W=new s.eth.Contract(A.GenesisShop.abi,A.GenesisShop.address,{from:l.value.coinbase}),C=new s.eth.Contract(A.EggShop.abi,A.EggShop.address,{from:l.value.coinbase}),we(),Ie()}},we=async()=>{Se(),Te()},Ie=async()=>{pe.value=await V.call(C,"whitelists",[l.value.coinbase])},ae=()=>{P.post({path:Y.ANIMAL_LIST_BYADDRESS,data:{address:l.value.coinbase}}).then(s=>{s.code==0&&(j.value=s.data.eggs,G.value=s.data.animals)}).catch(s=>{console.log(s)})},ye=s=>{s.target.value<0||(v.value=s.target.value)},ke=()=>{v.value-1!=0&&(v.value=v.value-1)},xe=()=>{v.value=v.value+1},De=async()=>{E.value=!0;var s=v.value,t=0,n=l.value.web3Instance().utils.toWei(Number(N.value*s).toFixed(4)+"");console.log(n,N.value*s);var m={contract:W,key:"mint",args:[t,s],value:n,onReceipt:I=>{var y=I.events,k=[];Object.keys(y).forEach(L=>{Object.keys(y).length-2>Number(L)&&k.push(Number(y[L].raw.topics[3]))}),$=k.join(","),Be($)},onError:I=>{E.value=!1,H({message:I,position:"top"})}};V.send(m)},Ce=()=>{F.value=!0;var s=l.value.coinbase,t=l.value.web3Instance(),n=`Welcome to LineFi!

Click "Sign" to sign in. No password needed!

Wallet address:
`+s.toLowerCase().concat(`
TokenIds:
`+$);new t.eth.personal.sign(t.utils.utf8ToHex(n),s).then(m=>{$e(m)}).catch(m=>{console.log(m),F.value=!1})},$e=s=>{P.post({path:Y.ANIMAL_HATCH_BYADDRESS,data:{signature:s,address:l.value.coinbase,tokenIds:$}}).then(t=>{F.value=!1,t.code==0?(B.value=!1,M.value=!0,ee.value=t.data.results,ae()):H({message:t.msg,position:"top"})}).catch(t=>{console.log(t)})},Be=s=>{P.post({path:Y.ANIMAL_SYNC,data:{tokenIds:s}}).then(t=>{E.value=!1,B.value=!0,t.code==0?H({message:"Purchase success",position:"top"}):H({message:t.msg,position:"top"})}).catch(t=>{console.log(t)})},Te=async()=>{var s=await l.value.web3Instance().eth.getBalance(l.value.coinbase);Z.value=(s/10**18).toFixed(3)},Se=async()=>{var{coinbase:s}=l.value;let t=await V.call(W,"getPrice",[s]);N.value=Number(t[1]/10**18).toFixed(4),U.value=t[0]};return(s,t)=>(a(),c(Q,null,[e("div",Qs,[e("main",null,[e("div",Rs,[e("div",Os,[i(se)<1681815e3?(a(),c("img",Ws)):f("",!0),i(se)<1681815e3?(a(),c("p",js,d(te.value),1)):f("",!0)]),Gs,e("div",Ms,[i(h)>768?(a(),c("div",Vs,Xs)):f("",!0),e("div",qs,[e("div",Js,[e("div",{class:"sub-box",onClick:ke},Zs),Qe(e("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=n=>Oe(v)?v.value=n:v=n),onInput:ye},null,544),[[Re,i(v)]]),e("div",{class:"add-box",onClick:xe},et)]),e("div",st,[R(O,{loading:i(E),onClick:De},{default:D(()=>[b("Mint Egg")]),_:1},8,["loading"])])]),i(h)>768?(a(),c("div",tt,it)):f("",!0),i(h)<768?(a(),c("div",nt,lt)):f("",!0)]),e("p",_t,"Balance： "+d(i(Z))+" ETH",1),dt,i(U)>0?(a(),c("p",gt,[b(" Congratulations, you have successfully got "+d(i(z)[i(U)])+". ",1),rt,b(" the "+d(i(z)[i(U)])+" price is "+d(i(N)),1)])):f("",!0)]),e("div",ut,[e("div",vt,[e("div",ht,d(i(r)("airdrop.myNft")),1),i(G).length!=0||i(j).length!=0?(a(),c("div",mt,[(a(!0),c(Q,null,X(i(j),n=>(a(),x(bs,{key:n.tokenid,eggType:n.eggType,tokenId:n.tokenid,onOpenDialog:m=>fe(n.tokenid)},null,8,["eggType","tokenId","onOpenDialog"]))),128)),(a(!0),c(Q,null,X(i(G),n=>(a(),x(_s,{key:n.tokenid,"animal-data":n},null,8,["animal-data"]))),128))])):(a(),c("div",pt,[At,e("p",null,d(i(r)("airdrop.emptyTip")),1)]))])])])]),B.value?(a(),x($s,{key:0,loading:F.value,onCloseDialog:t[1]||(t[1]=n=>B.value=!1),eggNumber:i(v),onHatching:Ce},null,8,["loading","eggNumber"])):f("",!0),M.value?(a(),x(Hs,{key:1,"animal-data":ee.value,onCloseDialog:t[2]||(t[2]=n=>M.value=!1)},null,8,["animal-data"])):f("",!0)],64))}});const yt=S(ft,[["__scopeId","data-v-4cfc9545"]]);export{yt as default};
