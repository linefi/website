import{d as B,o,c as l,a as e,t as _,f,E as ce,G as _e,H as ge,I as de,J as re,K as ue,L as ve,M as me,p as K,e as Z,_ as T,B as O,C as x,u as z,g as k,n as Le,k as J,F as R,b as i,j as He,A as le,r as g,w as Qe,x as Re,T as Oe,h as y,P as We,Q as je,R as Ge,S as Q}from"./index-b4585981.js";import{_ as Me,a as Pe,L as W,D as he,w as Ve,t as Ye,m as Xe,c as Y,h as X,A as q,b as qe}from"./deployments.mainnet-10043de1.js";import"./icon_close-84a1ab56.js";const Je="https://cdn.jsdelivr.net/gh/linefi/website/assets/countdown-7719589a.png",Ke="https://cdn.jsdelivr.net/gh/linefi/website/assets/egg-7f030c83.png",pe="https://cdn.jsdelivr.net/gh/linefi/website/assets/five_straight_strokes-97193ec6.png",Ze="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACgSURBVHgB7dQxFcJAEITh2cv1IIGSAhHQxQUWkIIEcHElIijSgQX6kE0iIdvk3sv/SZg3MxIAAAAAAAAAAAAAbIApqD3lcxrsqpW5/OdDfy+dvgoIBdAedbAmf1QR/+tSuv6lhZICLOWbapNibQwF4O57VcamKSggFIAae6gy8w8oIH6C8w9MU3DZTmtL/izv5fsHAAAAAAAAAAAAgM0YAUIpIw7l/Wp3AAAAAElFTkSuQmCC",ze="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAG2SURBVHgB7dqxSsNAGAfw/yUVurXiC3Rw6ODQ0c1069g3KL6Bb6Kbq75Bx45Z3So4dBDMAwhWEERs8nkpFmobNFwgX+T+v/F6EPpPcnff1wJEREREREQeMlAyOmlFQWYmAnmVbHU1WyCBApUARn30TNh62h6TFMPZYhWjZgEUmKB1sTcYmAkUqAQgIl00hEoATcIA4DkGAM8xAHiOAcBzOkdhg87+qBxCQe0B5IWQLcEGu+M2lLNogNqPyCFqFPXQPWiH1/brnhZ83D5Ig/7xUXb3+IwlauJcDm/q+bLzbd3fRSARxPxxlyWxc+YGplQIVfsJTgEU1fPaXPsJTmtAYT2vzbGf4BRAk+r5DWNfBThw2wVCc4OGydcBOHBfBPN1wL4KAtMpd6H8qZGB3e96v8+UpV0EYym5CK4Fcjt7cOsn1toU/Q7t0l51XDjByPT9LT2Pk3+wDboa28POx+d6B/m5jogkkqXDutvjtZ8Ep3N7d0Xi3XH7yN9r/Dag1BVGwYptXqCA1SA8xwDgOQYAzzEAeI4BoCFc6/mqdAIo6Ce41vNV6f1JarufUKGeJyIiIiIiIgdfa52DeewoqDYAAAAASUVORK5CYII=",Ae="https://cdn.jsdelivr.net/gh/linefi/website/assets/ten_straight_strokes-c5c28cb5.png",fe=n=>(K("data-v-914e90f2"),n=n(),Z(),n),es={class:"animal-box"},ss={class:"animal-info"},ts={class:"animal-type"},as={class:"animal-pic"},os=["src"],ns={class:"animal-att"},is={class:"animal-level"},ls=fe(()=>e("img",{src:Me,alt:""},null,-1)),cs={class:"animal-glamour"},_s=fe(()=>e("img",{src:Pe,alt:""},null,-1)),gs=B({__name:"animal_card",props:{animalData:{default:{}}},setup(n){const r=n;function u(v){return new URL(Object.assign({"../assets/images/home/aki.gif":ce,"../assets/images/home/aoao.gif":_e,"../assets/images/home/bebe.gif":ge,"../assets/images/home/cici.gif":de,"../assets/images/home/dndn.gif":re,"../assets/images/home/fofo.gif":ue,"../assets/images/home/rara.gif":ve,"../assets/images/home/wiwi.gif":me})[`../assets/images/home/${v}.gif`],self.location).href}return(v,b)=>(o(),l("div",es,[e("div",ss,[e("p",ts,_(r.animalData.role),1),e("p",null,"#"+_(v.$filter.tokenId(r.animalData.tokenid)),1)]),e("div",as,[e("img",{src:u(r.animalData.role),alt:""},null,8,os)]),e("div",ns,[e("div",is,[ls,f(" Lv."+_(r.animalData.level),1)]),e("div",cs,[_s,f(" "+_(r.animalData.energy),1)])])]))}});const ds=T(gs,[["__scopeId","data-v-914e90f2"]]),rs="https://cdn.jsdelivr.net/gh/linefi/website/assets/common_egg-6e0ecb8a.png",us="https://cdn.jsdelivr.net/gh/linefi/website/assets/epic_egg-6aed0a5c.png",vs={class:"egg-card"},ms={class:"egg-name"},hs={class:"egg-pic"},ps={key:0,src:rs,alt:""},As={key:1,src:us,alt:""},fs={class:"egg-id"},bs={class:"card-btn"},ws=B({__name:"egg_card",props:{tokenId:{default:0},eggType:{default:1}},emits:["openDialog"],setup(n,{emit:r}){const u=n,v={0:"Common",1:"Common",2:"Genesis",3:"Genesis",4:"Genesis"},b=()=>{r("openDialog")};return(h,A)=>(o(),l("div",vs,[e("div",ms,_(v[u.eggType]),1),e("div",hs,[u.eggType<=1?(o(),l("img",ps)):(o(),l("img",As)),e("div",fs,"#"+_(h.$filter.tokenId(u.tokenId)),1)]),e("div",bs,[O(W,{onClick:b},{default:x(()=>[f(" Hatching ")]),_:1})])]))}});const Is=T(ws,[["__scopeId","data-v-10173207"]]),ys="https://cdn.jsdelivr.net/gh/linefi/website/assets/light_epic_egg_pic-dea6646e.png",ks="https://cdn.jsdelivr.net/gh/linefi/website/assets/mul_light_epic_egg_pic-abda8689.png",xs={class:"dialog-content"},Cs={key:0,src:ys,alt:""},Ds={key:1,src:ks,alt:""},$s={class:"btn-box"},Bs=B({__name:"egg_dialog",props:{loading:{type:Boolean,default:!1},eggNumber:{default:1}},emits:["closeDialog","hatching"],setup(n,{emit:r}){const u=n;z();const v=()=>{r("closeDialog")};return(b,h)=>(o(),k(he,{onCloseDialog:v},{default:x(()=>[e("div",xs,[n.eggNumber==1?(o(),l("img",Cs)):(o(),l("img",Ds)),e("p",null,"Genesis Egg x"+_(n.eggNumber),1),e("div",$s,[O(W,{onClick:h[0]||(h[0]=A=>r("hatching")),loading:u.loading},{default:x(()=>[f("Hatching")]),_:1},8,["loading"])])])]),_:1}))}});const Ts=T(Bs,[["__scopeId","data-v-dc9c508b"]]),Es="https://cdn.jsdelivr.net/gh/linefi/website/assets/hatching_animal_bg-7c1207f2.png",Ns=n=>(K("data-v-0891f186"),n=n(),Z(),n),Ss={class:"dialog-content"},Us={class:"nft-pic"},Fs=Ns(()=>e("img",{src:Es,alt:""},null,-1)),Ls=["src"],Hs={class:"dialog-button"},Qs=B({__name:"hatch_success_dialog",props:{animalData:{default:null}},emits:["closeDialog"],setup(n,{emit:r}){const u=n,{t:v}=z(),b=()=>{r("closeDialog")};function h(A){return new URL(Object.assign({"../../../assets/images/home/aki.gif":ce,"../../../assets/images/home/aoao.gif":_e,"../../../assets/images/home/bebe.gif":ge,"../../../assets/images/home/cici.gif":de,"../../../assets/images/home/dndn.gif":re,"../../../assets/images/home/fofo.gif":ue,"../../../assets/images/home/rara.gif":ve,"../../../assets/images/home/wiwi.gif":me})[`../../../assets/images/home/${A}.gif`],self.location).href}return(A,c)=>(o(),k(he,{onCloseDialog:b},{default:x(()=>[e("div",Ss,[e("div",Us,[Fs,e("div",{class:Le(["animal",`animal-${u.animalData.length}`])},[(o(!0),l(R,null,J(u.animalData,C=>(o(),l("img",{src:h(C.role),alt:""},null,8,Ls))),256))],2)]),e("div",Hs,[O(W,{onClick:c[0]||(c[0]=C=>r("closeDialog"))},{default:x(()=>[f(_(i(v)("confirm")),1)]),_:1})])])]),_:1}))}});const Rs=T(Qs,[["__scopeId","data-v-0891f186"]]),d=n=>(K("data-v-e0bf525c"),n=n(),Z(),n),Os={class:"shop-egg-page"},Ws={class:"buy-egg-box"},js={class:"countdown-box"},Gs=d(()=>e("img",{class:"countdown-img",src:Je,alt:""},null,-1)),Ms={key:0},Ps={key:1},Vs=d(()=>e("div",{class:"egg-box"},[e("img",{class:"egg-img",src:Ke,alt:""})],-1)),Ys={class:"draw-box"},Xs=d(()=>e("div",{class:"info-box"},[e("p",{class:"title"},"5 NFTs Package"),e("p",{class:"info"},"There must be a Wiwi")],-1)),qs=d(()=>e("img",{src:pe,alt:""},null,-1)),Js=[Xs,qs],Ks={class:"draw-box-center"},Zs={class:"input-box"},zs=d(()=>e("img",{src:Ze,alt:""},null,-1)),et=[zs],st=d(()=>e("img",{src:ze,alt:""},null,-1)),tt=[st],at={class:"button-box"},ot=d(()=>e("img",{src:Ae,alt:""},null,-1)),nt=d(()=>e("div",{class:"info-box"},[e("p",{class:"title"},"10 NFTs Package"),e("p",{class:"info"},"One for each NFT")],-1)),it=[ot,nt],lt={key:2,class:"phone-box"},ct=d(()=>e("div",{class:"info-box"},[e("p",{class:"title"},"5 NFTs Package"),e("p",{class:"info"},"There must be a Wiwi")],-1)),_t=d(()=>e("img",{src:pe,alt:""},null,-1)),gt=[ct,_t],dt=d(()=>e("img",{src:Ae,alt:""},null,-1)),rt=d(()=>e("div",{class:"info-box"},[e("p",{class:"title"},"10 NFTs Package"),e("p",{class:"info"},"One for each NFT")],-1)),ut=[dt,rt],vt={class:"balance-text"},mt=d(()=>e("p",{class:"price-text"}," The price of Genesis Egg is 0.1 $ETH limited to 1000 ",-1)),ht={key:0,class:"price-text-og"},pt=d(()=>e("br",null,null,-1)),At={class:"animal-content"},ft={class:"animal-list-box"},bt={class:"home-title"},wt={key:0,class:"animal-list"},It={key:1,class:"empyt-box"},yt=d(()=>e("img",{src:qe,alt:""},null,-1)),kt=B({__name:"shop_egg",setup(n){const{locale:r,t:u}=z();var v=Ve(),b=He();const h=le(()=>b.clientWidth),A=v.env=="testnet"?Ye:Xe,c=le(()=>v.web3);var C=null,j=null,m=g(1),G=g([]),M=g([]),be=g(0),ee=g(0),E=g(!1);g(0);var N=g(0),se=g(0),S=g(0),te={1:"Whitelist",2:"OG"},D="";const $=g(!1),U=g(!1),P=g(!1),ae=g([]);Qe(c.value,(t,s)=>{ne(),ke()});var we=Math.floor(new Date/1e3);const oe=g("");var V=null;Re(()=>{v.init(),Ie()}),Oe(()=>{clearInterval(V)});const Ie=()=>{V=setInterval(()=>{var t=new Date,s=Math.floor(t/1e3);if(s<1681815e3){var a=1681815e3-s,p=Math.floor(a/(60*60)),w=Math.floor(a%(60*60)/60),I=Math.floor(a%60),L=p>9?p:"0"+p,H=w>9?w:"0"+w,Fe=I>9?I:"0"+I;oe.value=L+":"+H+":"+Fe}else clearInterval(V)},1e3)},ye=t=>{D=t+"",$.value=!0},ke=()=>{if(c.value.web3Instance){var t=c.value.web3Instance();j=new t.eth.Contract(A.GenesisShop.abi,A.GenesisShop.address,{from:c.value.coinbase}),C=new t.eth.Contract(A.EggShop.abi,A.EggShop.address,{from:c.value.coinbase}),xe(),Ce()}},xe=async()=>{Ue(),Se()},Ce=async()=>{be.value=await Y.call(C,"whitelists",[c.value.coinbase])},ne=()=>{X.post({path:q.ANIMAL_LIST_BYADDRESS,data:{address:c.value.coinbase}}).then(t=>{t.code==0&&(G.value=t.data.eggs,M.value=t.data.animals)}).catch(t=>{console.log(t)})},De=t=>{t.target.value<0||(m.value=t.target.value)},$e=()=>{m.value-1!=0&&(m.value=m.value-1)},Be=()=>{m.value=m.value+1},F=async t=>{m.value=t,ie()},ie=async()=>{E.value=!0;var t=m.value,s=0,a=c.value.web3Instance().utils.toWei(Number(N.value*t).toFixed(4)+"");console.log(a,N.value*t);var p={contract:j,key:"mint",args:[s,t],value:a,onReceipt:w=>{var I=w.events,L=[];Object.keys(I).forEach(H=>{Object.keys(I).length-2>Number(H)&&L.push(Number(I[H].raw.topics[3]))}),D=L.join(","),Ne(D)},onError:w=>{E.value=!1,Q({message:w,position:"top"})}};Y.send(p)},Te=()=>{U.value=!0;var t=c.value.coinbase,s=c.value.web3Instance(),a=`Welcome to LineFi!

Click "Sign" to sign in. No password needed!

Wallet address:
`+t.toLowerCase().concat(`
TokenIds:
`+D);new s.eth.personal.sign(s.utils.utf8ToHex(a),t).then(p=>{Ee(p)}).catch(p=>{console.log(p),U.value=!1})},Ee=t=>{X.post({path:q.ANIMAL_HATCH_BYADDRESS,data:{signature:t,address:c.value.coinbase,tokenIds:D}}).then(s=>{U.value=!1,s.code==0?($.value=!1,P.value=!0,ae.value=s.data.results,ne()):Q({message:s.msg,position:"top"})}).catch(s=>{console.log(s)})},Ne=t=>{X.post({path:q.ANIMAL_SYNC,data:{tokenIds:t}}).then(s=>{E.value=!1,$.value=!0,s.code==0?Q({message:"Purchase success",position:"top"}):Q({message:s.msg,position:"top"})}).catch(s=>{console.log(s)})},Se=async()=>{var t=await c.value.web3Instance().eth.getBalance(c.value.coinbase);ee.value=(t/10**18).toFixed(3)},Ue=async()=>{var{coinbase:t}=c.value;let s=await Y.call(j,"getPrice",[t]);N.value=Number(s[1]/10**18).toFixed(4),se.value=Number(s[2]),S.value=s[0]};return(t,s)=>(o(),l(R,null,[e("div",Os,[e("main",null,[e("div",Ws,[e("div",js,[Gs,i(we)<1681815e3?(o(),l("p",Ms,_(oe.value),1)):(o(),l("p",Ps,_(i(se))+"/1000",1))]),Vs,e("div",Ys,[i(h)>768?(o(),l("div",{key:0,class:"five-box",onClick:s[0]||(s[0]=a=>F(5))},Js)):y("",!0),e("div",Ks,[e("div",Zs,[e("div",{class:"sub-box",onClick:$e},et),We(e("input",{type:"number","onUpdate:modelValue":s[1]||(s[1]=a=>Ge(m)?m.value=a:m=a),onInput:De},null,544),[[je,i(m)]]),e("div",{class:"add-box",onClick:Be},tt)]),e("div",at,[O(W,{loading:i(E),onClick:ie},{default:x(()=>[f("Mint Egg")]),_:1},8,["loading"])])]),i(h)>768?(o(),l("div",{key:1,class:"ten-box",onClick:s[2]||(s[2]=a=>F(10))},it)):y("",!0),i(h)<768?(o(),l("div",lt,[e("div",{class:"five-box",onClick:s[3]||(s[3]=a=>F(5))},gt),e("div",{class:"ten-box",onClick:s[4]||(s[4]=a=>F(10))},ut)])):y("",!0)]),e("p",vt,"Balanceï¼š "+_(i(ee))+" ETH",1),mt,i(S)>0?(o(),l("p",ht,[f(" Congratulations, you have successfully got "+_(i(te)[i(S)])+". ",1),pt,f(" the "+_(i(te)[i(S)])+" price is "+_(i(N)),1)])):y("",!0)]),e("div",At,[e("div",ft,[e("div",bt,_(i(u)("airdrop.myNft")),1),i(M).length!=0||i(G).length!=0?(o(),l("div",wt,[(o(!0),l(R,null,J(i(G),a=>(o(),k(Is,{key:a.tokenid,eggType:a.eggType,tokenId:a.tokenid,onOpenDialog:p=>ye(a.tokenid)},null,8,["eggType","tokenId","onOpenDialog"]))),128)),(o(!0),l(R,null,J(i(M),a=>(o(),k(ds,{key:a.tokenid,"animal-data":a},null,8,["animal-data"]))),128))])):(o(),l("div",It,[yt,e("p",null,_(i(u)("airdrop.emptyTip")),1)]))])])])]),$.value?(o(),k(Ts,{key:0,loading:U.value,onCloseDialog:s[5]||(s[5]=a=>$.value=!1),eggNumber:i(m),onHatching:Te},null,8,["loading","eggNumber"])):y("",!0),P.value?(o(),k(Rs,{key:1,"animal-data":ae.value,onCloseDialog:s[6]||(s[6]=a=>P.value=!1)},null,8,["animal-data"])):y("",!0)],64))}});const $t=T(kt,[["__scopeId","data-v-e0bf525c"]]);export{$t as default};
